[TOC]

`pip install -e .` 是用 **pip 以“可编辑（editable）模式”安装当前目录（`.`）里的 Python 项目**。

你可以把它理解成：**装了，但不把代码复制进 site-packages，而是做一个“指向你源码目录的链接”**（并安装依赖）。这样你改源码，马上就能生效，不用每次都重新 `pip install`。

------

## 逐段拆开看

- `pip install`：安装一个包
- `-e`：editable mode（可编辑安装）
- `.`：当前目录（通常这里有 `pyproject.toml` 或 `setup.py`）

------

## 什么时候用它

最常见的场景：

1. **你在本地开发一个项目/库**，希望改代码立刻生效
2. **你在调试别人仓库的代码**，不想每改一次都重新安装
3. 有多个项目依赖同一个本地库（例如 A 项目依赖本地的 mylib），用 `-e` 可以让 A 总是用你正在编辑的 mylib

------

## 它会做什么（大概过程）

- 读取项目的打包配置（`pyproject.toml` / `setup.cfg` / `setup.py`）
- 安装该项目的依赖（requirements / dependencies）
- 在环境里注册这个包，但**指向你的源码目录**

所以你在源码目录里改 `.py` 文件，`import` 到的就是改后的版本。

------

## 一个常见搭配

开发时经常这样装 “开发依赖”：

```bash
pip install -e ".[dev]"
```

意思是：可编辑安装当前项目，并额外安装 `dev` 这组可选依赖（比如 pytest、black、ruff 等）。前提是项目在配置里定义了 `dev` extras。

------

## 注意点 / 坑

- **只对“项目包”有意义**：当前目录要是个可安装项目（有 `pyproject.toml` 或 `setup.py`）。
- **依赖还是会正常安装**：`-e` 只影响“你的项目本体”怎么被安装。
- **改入口脚本 / console_scripts**：一般也能跟随更新，但如果改的是打包元数据，有时需要重新安装一次。
- **虚拟环境里用最稳**：避免污染系统 Python。

