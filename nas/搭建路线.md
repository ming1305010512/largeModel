## 1、视频服务：

Jellyfin（免费 + 开源）

## 2、内网穿透（核心）

frp、VPS 跑 `frps`

NAS 跑 `frpc`

## ## 访问方式分层（非常重要）

| 场景         | 方式           |
| ------------ | -------------- |
| 家里 / 公司  | SMB / Web      |
| 外网临时访问 | HTTPS Web      |
| 程序同步     | WebDAV / API   |
| 自动备份     | rsync / 客户端 |

## 3 私有云盘

**Nextcloud 就是一个“你自己掌控的私有云盘 + 协作平台”**。

**Nextcloud = 自建版的网盘（像私有的百度网盘 / Dropbox）+ 文档协作 + 日历通讯录 + 多端同步**
 而且——**数据完全在你自己服务器上**。



## 向量数据库

| 向量库     | 流行度 | 工程复杂度 | 企业学习价值 | RAG 友好度 |
| ---------- | ------ | ---------- | ------------ | ---------- |
| **Milvus** | ⭐⭐⭐⭐⭐  | ⭐⭐⭐⭐       | ⭐⭐⭐⭐⭐        | ⭐⭐⭐⭐       |
| **Qdrant** | ⭐⭐⭐⭐   | ⭐⭐         | ⭐⭐⭐          | ⭐⭐⭐⭐⭐      |
| Weaviate   | ⭐⭐⭐    | ⭐⭐⭐        | ⭐⭐⭐          | ⭐⭐⭐        |
| Chroma     | ⭐⭐⭐    | ⭐          | ⭐            | ⭐⭐⭐        |
| FAISS      | ⭐⭐⭐⭐⭐  | ⭐⭐⭐⭐       | ⭐⭐           | ⭐⭐         |

### ① **Milvus**

**定位：企业级标杆 / 工程学习价值最高**

**谁在用**

- 企业 RAG / 搜索 / 推荐
- 几乎所有“向量数据库选型文章”的对照组

**优点**

- 完整企业级架构（schema / index / 分区 / 批量导入）
- 生态成熟（pymilvus、LangChain、LlamaIndex 全支持）
- 能从 **个人 → 企业** 平滑过渡

**代价**

- 组件多（Milvus + etcd + MinIO）
- 学习曲线略陡

👉 **如果你目标是：`知识库 + RAG + 未来能进企业架构` → 选它**

------

### ② **Qdrant**

**定位：RAG 工程师最爱 / 现代感最强**

**谁在用**

- RAG 应用
- 实时语义搜索
- AI 应用公司（尤其中小规模）

**优点**

- Rust 写的，性能好
- 部署极简（一个服务）
- payload 过滤非常舒服
- API 设计很现代

**不足**

- 企业级“复杂调度/冷热分层”不如 Milvus
- 大规模集群经验相对少

👉 **如果你目标是：`快速落地 RAG + 少折腾` → 选它**





最终我选择：

Milvus（向量） + Elasticsearch+Kibana（全文+界面）



以后用Neo4j做结构化知识



## 4 搜索AI问答

Open WebUI / Dify



## 5 反向代理+统一入口

👉 不然你会被一堆 `:5601 :8000 :6333` 逼疯

**做什么**

- 一个域名 / 子域
- HTTPS
- 统一入口

**推荐**

- **Nginx**（够稳）
- 或 Traefik（Docker 原生）

**效果**

```
kibana.xxx.com
search.xxx.com
chat.xxx.com
media.xxx.com
```

📌 **这是“服务器感”的分水岭**

## 6 备份

**最低配置**

- 定期：
  - Nextcloud 数据
  - Milvus / ES 的 data volume
- 备份到：
  - 外置硬盘 / 另一块盘

**进阶**

- Restic / BorgBackup
- 定时任务（cron）

📌 **不是“万一坏了”，是“一定会坏”**

## 7 DOCKER管理面板

**推荐**

- **Portainer**

**你能得到**

- 所有容器一眼看清
- 日志、重启、更新
- 非常适合长期维护

## 8 监控与资源可视化

你会想知道：

- ES 吃了多少内存？
- Milvus 索引是不是在疯狂占 IO？
- Jellyfin 播放时 CPU 飙没？

**推荐**

- Prometheus + Grafana（进阶）
- 或 Netdata（更简单）

📌 **这一步是“玩服务器”和“用服务器”的分界**

## 9 统一、认证登录

不然：

- Kibana 一套账号
- 搜索页一套
- Open WebUI 一套

**进阶方案**

- Keycloak / Authelia
- 单点登录（SSO）

👉 **不是现在必须，但以后一定爽**

## 10 日志集中化

当某天你发现：

> “搜索怎么突然慢了？”

你会想要：

- 查 API 日志
- 查 ES 查询
- 查向量检索耗时

**方案**

- 简单：容器日志 + grep
- 进阶：ELK 自监控（自己查自己）

##  11 **结构化知识层（不是全靠文档）**

你现在是：

- 非结构化：文档 + 向量

下一步可以加：

- Neo4j（概念、关系）
- 标签体系（疾病→检查→诊断）

📌 **这一步是“知识库”和“文件堆”的本质区别**



### 12 **自动化入库流水线**

你以后一定不想：

- 手动点“更新索引”

可以做：

- 文件变更监听
- 自动：
  - 切片
  - embedding
  - 写入 ES + Milvus

📌 **这一步一做，整个系统“活了”**

------

### 13 **搜索质量优化**

当你用久了，会开始挑剔：

- 召回不准
- snippet 不好看
- 语义结果重复

可以做：

- chunk 策略优化
- hybrid search 权重
- reranker（bge-reranker）

------

## 14 媒体 / 生活相关（可选，但很香）

### 🔹 Jellyfin 之外

- 自动刮削
- 下载器（qbittorrent）
- 字幕管理

### 🔹 家庭访问

- Tailscale / Headscale
- 给家人只开放 Jellyfin